{% extends "base.html" %}
{% block content %}

<h3 class="fw-bold mb-4">ğŸ“˜ ê°•ì˜ìë£Œ ëª©ë¡</h3>

{% if lectures %}
<table class="table table-bordered align-middle text-center">
  <thead class="table-primary">
    <tr>
      <th>ì œëª©</th>
      <th>ë‚´ìš©</th>
      <th>íŒŒì¼</th>
      <th>ì‚¬ì´íŠ¸</th>
      <th>ì—…ë¡œë“œì‹œê°</th>
    </tr>
  </thead>
  <tbody>
    {% for lec in lectures %}
    <tr>
      <td>{{ lec.title }}</td>
      <td>{{ lec.content }}</td>
      <td>
        {% if lec.file_link %}
          <a href="{{ lec.file_link }}" target="_blank">ğŸ“‚</a>
        {% endif %}
      </td>
      <td>
        {% if lec.site_link %}
          <a href="{{ lec.site_link }}" target="_blank">ğŸŒ</a>
        {% endif %}
      </td>
      {% if session.get('professor') %}
        <td>{{ lec.uploaded_at }}</td>
      {% else %}
        <td>ë¹„ê³µê°œ</td>
      {% endif %}
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p class="text-muted">ë“±ë¡ëœ ê°•ì˜ìë£Œê°€ ì—†ìŠµë‹ˆë‹¤.</p>
{% endif %}

<hr class="my-4">
<h4>ğŸ’¬ ì§ˆë¬¸ ë“±ë¡</h4>

<form method="POST" action="{{ url_for('lecture') }}">
  <div class="mb-3">
    <textarea name="question" class="form-control" rows="3" placeholder="ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”." required></textarea>
  </div>
  <div class="mb-3">
    <input type="password" name="password" class="form-control" placeholder="ë¹„ë°€ë²ˆí˜¸ (ìˆ˜ì •Â·ì‚­ì œìš©)" required>
  </div>
  <button type="submit" class="btn btn-success w-100">ì§ˆë¬¸ ë“±ë¡</button>
</form>

<hr class="my-4">
<h4>ğŸ—’ï¸ ì§ˆë¬¸ ëª©ë¡</h4>

{% if questions %}
<ul class="list-group">
  {% for q in questions %}
  <li class="list-group-item">
    <strong>{{ q.email }}</strong> ({{ q.created_at }})<br>
    {{ q.question }}
  </li>
  {% endfor %}
</ul>
{% else %}
<p class="text-muted">ì•„ì§ ì§ˆë¬¸ì´ ì—†ìŠµë‹ˆë‹¤.</p>
{% endif %}

{% endblock %}
